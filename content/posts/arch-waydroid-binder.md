---
title: "Arch Linux + Waydroid ã® Binder / BinderFS ãƒˆãƒ©ãƒ–ãƒ«å®Œå…¨ãƒ¡ãƒ¢"
date: 2025-10-09
tags: ["Arch Linux", "Waydroid", "Binder", "Kernel", "Troubleshooting"]
categories: ["Linux", "Android Integration"]
description: "Arch Linux ä¸Šã§ Waydroid ãŒèµ·å‹•ã—ãªã„åŸå› ã‚’ Binder / BinderFS ã®è¦³ç‚¹ã‹ã‚‰å¾¹åº•è§£èª¬ã€‚ã‚­ãƒ£ãƒ©ãƒ‡ãƒã‚¤ã‚¹ã®ç†è§£ã‚‚å«ã‚ã€Gentooå‡ºèº«è€…å‘ã‘ã«ã‚ã‹ã‚Šã‚„ã™ãã¾ã¨ã‚ã¾ã—ãŸã€‚"
---

# ğŸ§© Arch Linux + Waydroid Binder/BinderFS ãƒˆãƒ©ãƒ–ãƒ«ãƒ¡ãƒ¢

Waydroid ã¯ Android ã®ãƒ—ãƒ­ã‚»ã‚¹é–“é€šä¿¡ï¼ˆIPCï¼‰ã‚’ä½¿ã£ã¦å‹•ä½œã—ã¾ã™ã€‚  
ãã®ä¸­æ ¸ã¨ãªã‚‹ã®ãŒ Linux ã‚«ãƒ¼ãƒãƒ«ã® **Binder ãƒ‰ãƒ©ã‚¤ãƒ**ã€‚  
ã—ã‹ã—ã€Arch Linux ã§ã¯ã“ã® Binder å‘¨ã‚ŠãŒã‚„ã‚„è¤‡é›‘ã§ã€  
binderfs ã®æœ‰ç„¡ã‚„ã‚«ãƒ¼ãƒãƒ«ã®æ§‹æˆã«ã‚ˆã£ã¦æŒ™å‹•ãŒå¤§ããå¤‰ã‚ã‚Šã¾ã™ã€‚

---

## ğŸ”§ 1. Binder ã¨ BinderFS ã®é•ã„

| åç§° | èª¬æ˜ | ãƒ‡ãƒã‚¤ã‚¹ä¾‹ |
|------|------|------------|
| **binder** | å¤ã„æ–¹å¼ã€‚`/dev/binder`, `/dev/hwbinder` ãªã©ã‚’ç›´æ¥ä½œæˆ | `/dev/binder` |
| **binderfs** | æ–°ã—ã„æ–¹å¼ï¼ˆLinux 5.0+ï¼‰ã€‚Binderãƒ‡ãƒã‚¤ã‚¹ã‚’ä»®æƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã¨ã—ã¦ `/dev/binderfs/` ã«ç®¡ç† | `/dev/binderfs/binder` |

Waydroid ã¯åŸå‰‡ã¨ã—ã¦ binderfs ã‚’å„ªå…ˆçš„ã«ä½¿ã„ã¾ã™ãŒã€  
binderfs ãŒå­˜åœ¨ã—ãªã„å ´åˆã¯ binder ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã—ã¾ã™ã€‚

---

## ğŸ§  2. ã‚­ãƒ£ãƒ©ãƒ‡ãƒã‚¤ã‚¹ã¨ã¯ï¼Ÿ

Linuxã® `/dev` ã«ã‚ã‚‹ãƒ‡ãƒã‚¤ã‚¹ã«ã¯2ç¨®é¡ã‚ã‚Šã¾ã™ï¼š

| ç¨®é¡ | ä»£è¡¨ä¾‹ | èª¬æ˜ |
|------|---------|------|
| **ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ‡ãƒã‚¤ã‚¹ (character device)** | `/dev/tty`, `/dev/input/event0`, `/dev/binder` | ãƒã‚¤ãƒˆå˜ä½ã§ãƒ‡ãƒ¼ã‚¿ã‚’é †æ¬¡èª­ã¿æ›¸ãã™ã‚‹ã€‚ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ I/Oå‘ã‘ã€‚ |
| **ãƒ–ãƒ­ãƒƒã‚¯ãƒ‡ãƒã‚¤ã‚¹ (block device)** | `/dev/sda`, `/dev/nvme0n1` | ä¸€å®šã‚µã‚¤ã‚ºã®ãƒ–ãƒ­ãƒƒã‚¯å˜ä½ã§èª­ã¿æ›¸ãã™ã‚‹ã€‚ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ç³»ã€‚ |

Binder ã¯ Android ã®ã‚¢ãƒ—ãƒªé–“é€šä¿¡ã‚’ã‚«ãƒ¼ãƒãƒ«ã§æ‰±ã†ä»•çµ„ã¿ãªã®ã§ã€  
ãƒ–ãƒ­ãƒƒã‚¯ã§ã¯ãªã **ã€Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¹ãƒˆãƒªãƒ¼ãƒ ã€** ã‚’æ‰±ã†ï¼ã‚­ãƒ£ãƒ©ãƒ‡ãƒã‚¤ã‚¹ã§ã™ã€‚

ä¾‹ï¼š
```bash
crw-rw-rw- 1 root root 511, 0 /dev/binder

## âš™ï¸ 3. ã‚ˆãã‚ã‚‹ç—‡çŠ¶ã¨åŸå› 

| ç—‡çŠ¶                                       | åŸå›                                        |
| ---------------------------------------- | ---------------------------------------- |
| `grep binderfs /proc/filesystems` ã«ä½•ã‚‚å‡ºãªã„ | binderfs ãŒã‚«ãƒ¼ãƒãƒ«ã«çµ„ã¿è¾¼ã¾ã‚Œã¦ã„ãªã„                 |
| `/dev/anbox-binder: No such device`      | binderfs ãŒãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¦ã„ãªã„ã€ã‚‚ã—ãã¯ /dev/binder ä¸æ­£ |
| `/dev/binder` ãŒãƒ•ã‚¡ã‚¤ãƒ«æ‰±ã„ã§ â€œcâ€ ãŒãªã„           | binderãƒ‰ãƒ©ã‚¤ãƒãŒãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ãªã„                     |
| Waydroid ãŒ STOPPED ã®ã¾ã¾                   | binderãƒ‡ãƒã‚¤ã‚¹ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ãªã„                     |

## ğŸ§© 4. å¯¾å‡¦æ‰‹é †ã¾ã¨ã‚

# ã‚«ãƒ¼ãƒãƒ«è¨­å®šã‚’ç¢ºèª
zgrep CONFIG_ANDROID /proc/config.gz | grep BINDER

# ãƒ‡ãƒã‚¤ã‚¹ãƒãƒ¼ãƒ‰ã®çŠ¶æ…‹ã‚’ç¢ºèª
ls -l /dev/binder /dev/hwbinder /dev/vndbinder

# binderfsã‚’ä½¿ã†å ´åˆï¼ˆä»»æ„ï¼‰
sudo mkdir -p /dev/binderfs
sudo mount -t binder binder /dev/binderfs

# Waydroidèµ·å‹•ç¢ºèª
sudo systemctl start waydroid-container
waydroid status

# UIèµ·å‹•ï¼ˆHWCç„¡åŠ¹ï¼‰
WAYDROID_DISABLE_HWCOMPOSER=1 waydroid show-full-ui

---

## ğŸ§­ 5. æ•™è¨“ã¨ç†è§£ãƒã‚¤ãƒ³ãƒˆ

binderfsãŒå‡ºãªã„ï¼å¤±æ•— ã¨ã¯é™ã‚‰ãªã„ã€‚
/dev/binder ãŒå‹•ã„ã¦ã„ã‚Œã°ååˆ†ã€‚

â€œcâ€ ãƒ‡ãƒã‚¤ã‚¹ã§ã‚ã‚‹ã‹ã©ã†ã‹ ãŒè‚å¿ƒã€‚

è¤‡æ•°ã‚«ãƒ¼ãƒãƒ«ï¼ˆzen, lts, mainline, archï¼‰ç’°å¢ƒã§ã¯ã€èµ·å‹•ã‚«ãƒ¼ãƒãƒ«ã”ã¨ã«BinderæŒ™å‹•ãŒé•ã†ã€‚

Gentoo ã®ã‚ˆã†ã« built-in ã§çµ„ã‚“ã§ã„ã‚Œã° initramfs ä¸è¦ã ãŒã€
Arch ã¯ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ†é›¢æ§‹æˆã®ãŸã‚ mkinitcpio ãŒå¿…è¦ã€‚

---

## ğŸ§© 6. ã¾ã¨ã‚

binderfs ãŒãªãã¦ã‚‚ /dev/binder ãŒã‚ã‚Œã° Waydroid ã¯å‹•ãã€‚

Waydroid ã¯ binderfs â†’ binder ã®é †ã«æ¢ã™ã€‚

ã‚­ãƒ£ãƒ©ãƒ‡ãƒã‚¤ã‚¹ã‚’ç†è§£ã™ã‚‹ã¨ã€Linux ã®ãƒ‡ãƒã‚¤ã‚¹ç®¡ç†ã®å…¨ä½“åƒãŒè¦‹ãˆã‚‹ã€‚

---

ã“ã®è¨˜äº‹ã¯ã€Gentooæ™‚ä»£ã‹ã‚‰Linuxã‚’æ·±ãè§¦ã£ã¦ããŸç­†è€…ãŒã€
Arch + Waydroid ç’°å¢ƒã§ç™ºç”Ÿã—ãŸ binderfs ãƒˆãƒ©ãƒ–ãƒ«ã‚’å®Œå…¨è§£æã—ãŸè¨˜éŒ²ã§ã™ã€‚

---
